% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/DataAnalysisTAD.R
\name{DataAnalysisTAD}
\alias{DataAnalysisTAD}
\title{Launch the analysis of the TADs with the SKR framework}
\usage{
DataAnalysisTAD(
  weights,
  weightsFactor,
  dataToTreat,
  randomizationNumber,
  aggregationFactorName = NULL,
  statisticsFactorName = NULL,
  seed = 123456,
  abundanceDataFrameRDS = NULL,
  weightedMomentsDataFrameRDS = NULL,
  statPerObsDataFrameRDS = NULL,
  statPerRandDataFrameRDS = NULL,
  statSKRparam,
  regenerateAbundanceDataFrame = FALSE,
  regenerateWeightedMomentsDataFrame = FALSE,
  regenerateStatPerObsDataFrame = FALSE,
  regenerateStatPerRandDataFrame = FALSE,
  significanceThreshold = c(0.05, 0.95),
  doParallel = TRUE,
  lin_mod = "lm",
  slope_speTADs = 1,
  intercept_speTADs = 1.86,
  distance_metric = "RMSE"
)
}
\arguments{
\item{weights}{the dataframe of weights, one row correspond to a series of observation}

\item{weightsFactor}{the dataframe which contains the different factor linked to the weights}

\item{dataToTreat}{a vector of the data linked to the different factor}

\item{randomizationNumber}{the number of random abundance matrix to generate}

\item{aggregationFactorName}{vector of factor name for the generation of random matrix}

\item{statisticsFactorName}{vector of factor name for the computation of statistics for each generated matrix}

\item{seed}{the seed of the pseudo random number generator}

\item{abundanceDataFrameRDS}{the path and name of the RDS file to load/save the dataframe which contains the observed data and the generated matrix}

\item{weightedMomentsDataFrameRDS}{the path and name of the RDS file to load/save the dataframe which contains the calculated moments}

\item{statPerObsDataFrameRDS}{the path and name of the RDS file to load/save the dataframe which contains the statistics for each observed row regarding the random ones}

\item{statPerRandDataFrameRDS}{the path and name of the RDS file to load/save the dataframe which contains the statistics for each random matrix generated}

\item{statSKRparam}{the path and name of the RDS file to load/save the dataframe which contains the SKR statistics}

\item{regenerateAbundanceDataFrame}{boolean to specify if the abundance dataframe is computed again}

\item{regenerateWeightedMomentsDataFrame}{boolean to specify if the weighted moments dataframe is computed again}

\item{regenerateStatPerObsDataFrame}{boolean to specify if the statistics per observation dataframe is computed again}

\item{regenerateStatPerRandDataFrame}{boolean to specify if the statistics per random matrix dataframe is computed again}

\item{significanceThreshold}{the significance threshold to consider that the observed value is in the randomized value}

\item{doParallel}{Indicates if we use parallelism to construct the random matrix}

\item{lin_mod}{Indicates the type of linear model to use for (SKR): choose "lm" or "mblm"}

\item{slope_speTADs}{slope of a specific SKR used as a baseline (default: slope_speTADs = 1; skew-uniform slope)}

\item{intercept_speTADs}{intercept of a specific SKR used as a baseline (default: intercept_speTADs = 1.86; skew-uniform intercept)}

\item{distance_metric}{Indicates the method to compute distance-based regression parameters: choose "RMSE" (for Root Mean Square Error, default) or "MAE" (for Mean Absolute Error)}
}
\value{
RDS files with:
abundance for observed and randomized communities,
moments (mean, variance, skewness & kurtosis) for observed and randomized communities,
Standardized Effect Size (SES) values of the moments for observed compared to randomized communities and significance,
SKR parameters for observed and randomized communities
SES of the SKR parameters (slope, intercept, Rsquare, distance from predicted TADs, distance from specific TADs & CV of the distance from specific TADs).
}
\description{
Launch the SKR analysis of the TADs, and generate output dataset
}
\examples{

Example of how to use the function, with "abundance" dataframe of grassland
plant communities observed under contrasting management practices and,
"trait" dataframe functional trait per species  (SLA) from TRY database (Kattge et al. 2020).

SKR.TAD::DataAnalysisTAD(
weights = SKR.TAD::abundance[,5:102],
weightsFactor = SKR.TAD::abundance[,c("Year", "Plot", "Treatment", "Bloc")],
dataToTreat = log(SKR.TAD::trait[["SLA"]]),
aggregationFactorName = c("Year", "Bloc"),
statisticsFactorName = c("Treatment"),
regenerateAbundanceDataFrame = T,
regenerateWeightedMomentsDataFrame = T,
regenerateStatPerObsDataFrame = T,
regenerateStatPerRandDataFrame = T,
randomizationNumber = 1000,
seed = 666,
abundanceDataFrameRDS = "./abundanceDataFrame.RDS",
weightedMomentsDataFrameRDS = "./MomentsDataFrame.RDS",
statPerObsDataFrameRDS = "./SES_MomentsDataFrame.RDS",
statPerRandDataFrameRDS = "./SKRDataFrame.RDS",
statSKRparam = "./SES_SKRDataFrame.RDS",
significanceThreshold = c(0.05, 0.95),
slope_speTADs = 1,
intercept_speTADs = 1.86,
distance_metric = "RMSE",
lin_mod = "lm"
)
}
